<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Museum Floor Plan Designer</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    <!-- Material Icons -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <!-- InteractJS Library -->
    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
    <!-- html2canvas Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body class="flex flex-col h-screen overflow-hidden font-sans">
    <!-- Toolbar -->
    <div class="bg-orange-200 p-4 flex items-center border-b border-gray-300 shadow-md">
        <button id="undo-button" title="Undo"
            class="p-2 bg-white text-gray-800 rounded-lg shadow hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-300">
            <span class="material-icons text-2xl">undo</span>
        </button>
        <button id="redo-button" title="Redo"
            class="p-2 bg-white text-gray-800 rounded-lg shadow hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-300 mx-2">
            <span class="material-icons text-2xl">redo</span>
        </button>
        <button id="delete-button" title="Delete Selected"
            class="p-2 bg-white text-gray-800 rounded-lg shadow hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-300 mx-2">
            <span class="material-icons text-2xl">delete</span>
        </button>
        <button id="text-button" title="Add Text"
            class="p-2 bg-white text-gray-800 rounded-lg shadow hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-300 mx-2">
            <span class="material-icons text-2xl">title</span>
        </button>
        <button id="save-button" title="Save Floor Plan"
            class="ml-auto p-2 bg-white text-gray-800 rounded-lg shadow hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-300">
            <span class="material-icons text-2xl">save</span>
        </button>
    </div>

    <!-- Main Content -->
    <div class="flex flex-grow overflow-hidden">
        <!-- Sidebar -->
<div class="w-56 bg-gray-100 shadow-md" style="height: 76vh;">
    <!-- Fixed Header -->
    <div class="bg-gray-100 p-4 shadow-sm">
        <h2 class="text-center bg-orange-100 p-2 rounded mb-0 text-xl font-semibold shadow-sm">Objects</h2>
    </div>

    <!-- Scrollable Content -->
    <div class="p-4 overflow-y-auto" style="height: calc(76vh - 64px);">
        <!-- Object List -->
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="wall-artifact" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="wall-artifact-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Wall Artifact</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="artifacts-artworks" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="artifacts-artworks-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Artifacts/Artworks</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="container" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="container-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Container</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="door" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="door-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Door</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="restricted" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="restricted-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Restricted Area</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="information-desk" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="information-desk-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Information Desk</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="statue" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="statue-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Statue</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="panels" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="panels-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Panels</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="wall-picture" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="wall-picture-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Wall Picture</span>
        </div>
        <div class="flex items-center p-2 mb-4 bg-white rounded shadow cursor-move hover:bg-gray-200" id="rest-area" draggable="true">
            <canvas class="w-10 h-10 mr-2" id="rest-area-symbol" width="40" height="40"></canvas>
            <span class="text-base font-medium">Rest Area</span>
        </div>
    </div>
</div>


        <!-- Canvas Area -->
        <div class="relative flex-grow bg-gray-200 overflow-auto cursor-default flex justify-center items-center"
            id="canvas-area">
            <img src="data:image/svg+xml,%3Csvg width='840' height='533' viewBox='0 0 840 533' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='700' y='182' width='9' height='54' fill='black'/%3E%3Crect x='628' y='287' width='8' height='246' fill='black'/%3E%3Cpath d='M636 174H700V182H636V174Z' fill='black'/%3E%3Crect x='628' y='10' width='8' height='235' fill='black'/%3E%3Crect x='700' y='174' width='130' height='8' fill='black'/%3E%3Crect x='700' y='331' width='9' height='119' fill='black'/%3E%3Crect width='10' height='433' fill='black'/%3E%3Crect x='830' y='10' width='10' height='440' fill='black'/%3E%3Crect x='542' y='433' width='10' height='100' fill='black'/%3E%3Cpath d='M700 440H830V450H700V440Z' fill='black'/%3E%3Crect y='433' width='542' height='10' fill='black'/%3E%3Crect x='10' width='830' height='10' fill='black'/%3E%3C/svg%3E%0A"
                alt="img" class="select-none pointer-events-none" draggable="false" style="user-select: none;">
        </div>

        <!-- Properties Panel -->
        <div class="w-56 bg-white border-l border-gray-300 p-4 flex flex-col overflow-y-auto shadow-md">
            <h3 class="text-center text-2xl font-semibold mb-5">Properties</h3>
            <!-- No Selection Message -->
            <div id="no-selection">
                <p class="text-center mt-5 text-base text-gray-500">No object selected.</p>
            </div>

            <!-- Object Properties -->
            <div id="object-properties" class="hidden">
                <fieldset class="border border-gray-300 rounded p-4 mb-4">
                    <legend class="font-bold px-2 text-base">Size & Rotation</legend>
                    <!-- Width Input -->
                    <label class="block mt-2 font-medium">Width (px):</label>
                    <input type="range" id="width-input" min="20" max="800" value="100"
                        class="w-full focus:outline-none focus:ring-2 focus:ring-orange-300">
                    <div class="flex justify-between text-sm">
                        <span>20</span>
                        <span id="width-value">100</span>
                        <span>800</span>
                    </div>

                    <!-- Height Input -->
                    <label class="block mt-4 font-medium">Height (px):</label>
                    <input type="range" id="height-input" min="20" max="800" value="100"
                        class="w-full focus:outline-none focus:ring-2 focus:ring-orange-300">
                    <div class="flex justify-between text-sm">
                        <span>20</span>
                        <span id="height-value">100</span>
                        <span>800</span>
                    </div>

                    <!-- Rotation Input -->
                    <label class="block mt-4 font-medium">Rotation:</label>
                    <input type="range" id="rotation-input" min="0" max="315" step="45" value="0"
                        class="w-full focus:outline-none focus:ring-2 focus:ring-orange-300">
                    <div class="flex justify-between text-sm">
                        <span>0°</span>
                        <span id="rotation-value">0°</span>
                        <span>315°</span>
                    </div>
                </fieldset>

                <button id="lock-button" title="Lock/Unlock"
                    class="mt-2 py-2 px-4 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">
                    <span class="material-icons mr-2">lock_open</span> Unlock
                </button>
            </div>

            <!-- Text Properties -->
            <div id="text-properties" class="hidden">
                <fieldset class="border border-gray-300 rounded p-4 mb-4">
                    <legend class="font-bold px-2 text-base">Text Settings</legend>
                    <!-- Text Content Input -->
                    <label for="text-content-input" class="block mt-2 font-medium">Text:</label>
                    <input type="text" id="text-content-input" placeholder="Enter text here"
                        class="w-full p-2 mt-1 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-300">

                    <!-- Text Color Input -->
                    <label for="text-color-input" class="block mt-4 font-medium">Text Color:</label>
                    <input type="color" id="text-color-input" value="#000000"
                        class="w-full h-10 mt-1 border rounded-lg">

                    <!-- Text Size Input -->
                    <label class="block mt-4 font-medium">Text Size (px):</label>
                    <input type="range" id="text-size-input" min="10" max="100" value="16"
                        class="w-full focus:outline-none focus:ring-2 focus:ring-orange-300">
                    <div class="flex justify-between text-sm">
                        <span>10</span>
                        <span id="text-size-value">16</span>
                        <span>100</span>
                    </div>

                    <!-- Text Rotation Input -->
                    <label class="block mt-4 font-medium">Rotation:</label>
                    <input type="range" id="text-rotation-input" min="0" max="315" step="45" value="0"
                        class="w-full focus:outline-none focus:ring-2 focus:ring-orange-300">
                    <div class="flex justify-between text-sm">
                        <span>0°</span>
                        <span id="text-rotation-value">0°</span>
                        <span>315°</span>
                    </div>
                </fieldset>

                <fieldset class="border border-gray-300 rounded p-4 mb-4">
                    <legend class="font-bold px-2 text-base">Style</legend>
                    <div class="flex justify-around mt-2">
                        <button id="bold-button" title="Bold"
                            class="p-2 bg-gray-200 border border-gray-300 rounded shadow hover:bg-gray-300">
                            <span class="material-icons text-base">format_bold</span>
                        </button>
                        <button id="italic-button" title="Italic"
                            class="p-2 bg-gray-200 border border-gray-300 rounded shadow hover:bg-gray-300">
                            <span class="material-icons text-base">format_italic</span>
                        </button>
                        <button id="underline-button" title="Underline"
                            class="p-2 bg-gray-200 border border-gray-300 rounded shadow hover:bg-gray-300">
                            <span class="material-icons text-base">format_underlined</span>
                        </button>
                    </div>
                </fieldset>

                <button id="lock-button-text" title="Lock/Unlock"
                    class="mt-2 py-2 px-4 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300">
                    <span class="material-icons mr-2">lock_open</span> Unlock
                </button>
            </div>
        </div>
    </div>


    <script src="main.js"></script>
</body>

</html>